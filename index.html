<!--
[TO CLAUDE CODE / ê°œë°œì ì „ë‹¬ ì‚¬í•­]

1. í”„ë¡œì íŠ¸ ê°œìš”:
   - "ë‚œë°©ë¹„ ìš”ê¸ˆ ì§€í‚´ì´"ë¼ëŠ” ì‹±ê¸€ í˜ì´ì§€ ì›¹ ì•±ì…ë‹ˆë‹¤.
   - HTML, Tailwind CSS, Vanilla JSë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.
   - ì‚¬ìš©ìê°€ ë³´ì¼ëŸ¬ ì„¤ì •(ì‹¤ë‚´/ì˜¨ëŒ/ì˜¨ìˆ˜/ì˜ˆì•½)ì„ ì‹œë®¬ë ˆì´ì…˜í•˜ê³ , ì ˆì•½ êµ¬ê°„ì„ ì‹œê°ì ìœ¼ë¡œ í•™ìŠµí•©ë‹ˆë‹¤.

2. í˜„ì¬ ë¬¸ì œì  (Fix Required):
   - 'ê¿€íŒÂ·ê´€ë¦¬' íƒ­ > 'ì˜ìƒ ë³´ê³  ë”°ë¼í•˜ê¸°' ëª¨ë‹¬ ë‚´ì˜ ìœ íŠœë¸Œ ì˜ìƒ(iframe)ì´ í˜„ì¬ ë¯¸ë¦¬ë³´ê¸° í™˜ê²½ì˜ ë³´ì•ˆ ì •ì±…(CSP/Sandbox)ìœ¼ë¡œ ì¸í•´ ì¬ìƒë˜ì§€ ì•Šê±°ë‚˜ ê²€ì€ í™”ë©´ìœ¼ë¡œ ë‚˜ì˜µë‹ˆë‹¤.
   - ëª¨ë°”ì¼ í„°ì¹˜ ì´ë²¤íŠ¸ëŠ” v6 ë²„ì „ì—ì„œ ê°œì„ ë˜ì—ˆìŠµë‹ˆë‹¤ (input range height í™•ëŒ€).

3. ìš”ì²­ ì‚¬í•­:
   - ì´ ì½”ë“œë¥¼ ì‹¤ì œ ì›¹ ì„œë²„(Vercel, GitHub Pages ë“±)ì— ë°°í¬í–ˆì„ ë•Œ ìœ íŠœë¸Œ iframeì´ ì •ìƒ ì‘ë™í•˜ë„ë¡ Content-Security-Policy(CSP) ì„¤ì •ì„ ì ê²€í•´ì£¼ì„¸ìš”.
   - í•„ìš”í•˜ë‹¤ë©´ YouTube IFrame Player APIë¥¼ ì‚¬ìš©í•˜ì—¬ ì•ˆì •ì„±ì„ ë†’ì—¬ì£¼ì„¸ìš”.
   - ëª¨ë°”ì¼ ë¸Œë¼ìš°ì € ì •ì±…ìƒ 'ìë™ ì¬ìƒ(autoplay)'ì´ ë§‰í ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ì‚¬ìš©ìê°€ ì¬ìƒ ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ í™•ì‹¤í•˜ê²Œ ì˜ìƒì´ ë¡œë“œë˜ë„ë¡ ì²˜ë¦¬í•´ì£¼ì„¸ìš”.

4. í•µì‹¬ ê¸°ëŠ¥:
   - íƒ­ ë©”ë‰´ (ë‚œë°©, ì˜¨ìˆ˜, ì˜ˆì•½, ê´€ë¦¬)
   - ëª¨ë“œë³„(ì‹¤ë‚´/ì˜¨ëŒ) ìŠ¬ë¼ì´ë” ë²”ìœ„ ë° ì ˆì•½ êµ¬ê°„(ì´ˆë¡ìƒ‰ ë°”) ë™ì  ë³€ê²½
   - ëª¨ë°”ì¼ í„°ì¹˜ ìµœì í™”ëœ ì»¤ìŠ¤í…€ ìŠ¬ë¼ì´ë”
-->

<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <!-- PWA ì„¤ì • -->
    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#3182ce" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta name="apple-mobile-web-app-title" content="ë‚œë°©ë¹„ì§€í‚´ì´" />
    <link rel="apple-touch-icon" href="/icons/icon-192.png" />
    <!-- Open Graph / ì†Œì…œ ë¯¸ë¦¬ë³´ê¸° -->
    <meta
      property="og:url"
      content="https://heating-cost-guardian.netlify.app/"
    />
    <meta property="og:title" content="ë‚œë°©ë¹„ ìš”ê¸ˆ ì§€í‚´ì´" />
    <meta
      property="og:description"
      content="ì˜¬ë°”ë¥¸ ë³´ì¼ëŸ¬ ì„¤ì •ìœ¼ë¡œ ì˜¬ê²¨ìš¸ ë‚œë°©ë¹„ë¥¼ ì ˆì•½í•˜ì„¸ìš”"
    />
    <meta
      property="og:image"
      content="https://heating-cost-guardian.netlify.app/og-image.png?v=2"
    />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <title>ë‚œë°©ë¹„ ìš”ê¸ˆ ì§€í‚´ì´</title>
    <!-- Tailwind CSS (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;600;700;800&display=swap");
      @import url("https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap");
      body {
        font-family: "Pretendard", sans-serif;
        background-color: #f2f4f6;
        color: #333d4b;
        touch-action: manipulation;
      }

      /* --- UI ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼ --- */
      .card {
        background-color: #ffffff;
        border-radius: 24px;
        padding: 24px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.02);
      }
      .btn-tab {
        transition: all 0.2s ease;
        color: #8b95a1;
        font-size: 14px;
        -webkit-tap-highlight-color: transparent;
      }
      .btn-tab.active {
        color: #333d4b;
        font-weight: 700;
      }
      .btn-tab-indicator {
        height: 2px;
        width: 0;
        background-color: #333d4b;
        transition: all 0.3s ease;
        margin: 0 auto;
      }
      .btn-tab.active .btn-tab-indicator {
        width: 20px;
      }

      /* --- ì»¤ìŠ¤í…€ ìŠ¬ë¼ì´ë” (ëª¨ë°”ì¼ í„°ì¹˜ ìµœì í™”) --- */
      input[type="range"] {
        -webkit-appearance: none;
        background: transparent;
        height: 44px; /* í„°ì¹˜ ì˜ì—­ í™•ëŒ€ (ì¤‘ìš”) */
        margin: 0;
        padding: 0;
        vertical-align: middle;
      }

      /* ìŠ¬ë¼ì´ë” ì†ì¡ì´ (Thumb) */
      input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        height: 28px;
        width: 28px;
        border-radius: 50%;
        background: #ffffff;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        border: 1px solid #e5e8eb;
        cursor: pointer;
        margin-top: -11px;
        transition:
          border-color 0.2s,
          transform 0.1s;
        position: relative;
        z-index: 20;
      }
      input[type="range"]:active::-webkit-slider-thumb {
        transform: scale(1.1);
      }
      input[type="range"].saving-mode::-webkit-slider-thumb {
        border: 3px solid #22c55e;
      }
      input[type="range"].warning-mode::-webkit-slider-thumb {
        border: 3px solid #ef4444;
      }

      /* ìŠ¬ë¼ì´ë” íŠ¸ë™ (Track) */
      input[type="range"]::-webkit-slider-runnable-track {
        width: 100%;
        height: 6px;
        cursor: pointer;
        background: #e5e8eb;
        border-radius: 3px;
      }

      /* --- ê¸°íƒ€ ìŠ¤íƒ€ì¼ --- */
      .mode-chip {
        border: 1px solid #e5e8eb;
        border-radius: 16px;
        padding: 16px;
        cursor: pointer;
        transition: all 0.2s;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        -webkit-tap-highlight-color: transparent;
      }
      .mode-chip:active {
        background-color: #f9fafb;
        transform: scale(0.98);
      }
      .mode-chip.selected {
        background-color: #e8f3ff;
        border-color: #3182ce;
        color: #3182ce;
        font-weight: 700;
        box-shadow: 0 0 0 1px #3182ce;
      }

      .guide-bar-container {
        position: relative;
        height: 6px;
        margin-top: -25px;
        margin-bottom: 19px;
        border-radius: 3px;
        pointer-events: none;
        z-index: 0;
        padding: 0 2px;
      }
      .guide-good {
        position: absolute;
        height: 100%;
        background-color: #86efac;
        opacity: 1;
        border-radius: 3px;
      }

      .fade-in {
        animation: fadeIn 0.3s ease-out forwards;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .modal {
        transition: opacity 0.2s ease;
        z-index: 50;
      }
      .modal-content {
        transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
      }
      .modal.hidden {
        opacity: 0;
        pointer-events: none;
      }
      .modal.hidden .modal-content {
        transform: translateY(100%);
      }

      .play-btn {
        transition: transform 0.2s;
      }
      .video-thumbnail:hover .play-btn {
        transform: scale(1.1);
      }
      .video-container iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }

      /* --- CRT ë ˆíŠ¸ë¡œ ìŠ¤íƒ€ì¼ --- */
      .crt-header {
        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        border-radius: 20px;
        padding: 20px;
        margin: 12px;
        position: relative;
        overflow: hidden;
      }

      .crt-header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: repeating-linear-gradient(
          0deg,
          rgba(0, 0, 0, 0.1) 0px,
          rgba(0, 0, 0, 0.1) 1px,
          transparent 1px,
          transparent 3px
        );
        pointer-events: none;
        opacity: 0.3;
      }

      .crt-title {
        font-family: "Space Mono", monospace;
        color: #4ade80;
        text-shadow:
          0 0 10px rgba(74, 222, 128, 0.5),
          0 0 20px rgba(74, 222, 128, 0.3);
        font-size: 1.1rem;
        font-weight: 700;
        letter-spacing: -0.5px;
      }

      .crt-subtitle {
        font-family: "Space Mono", monospace;
        color: #94a3b8;
        font-size: 0.75rem;
        margin-top: 8px;
        min-height: 1.2em;
      }

      .typing-cursor {
        display: inline-block;
        width: 8px;
        height: 14px;
        background-color: #4ade80;
        margin-left: 2px;
        animation: blink 1s step-end infinite;
        vertical-align: middle;
        box-shadow: 0 0 8px rgba(74, 222, 128, 0.6);
      }

      @keyframes blink {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0;
        }
      }

      .crt-badge {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        background: rgba(74, 222, 128, 0.1);
        border: 1px solid rgba(74, 222, 128, 0.3);
        border-radius: 20px;
        padding: 4px 10px;
        font-family: "Space Mono", monospace;
        font-size: 0.65rem;
        color: #4ade80;
        margin-top: 12px;
      }

      .crt-dot {
        width: 6px;
        height: 6px;
        background: #4ade80;
        border-radius: 50%;
        animation: pulse-dot 2s ease-in-out infinite;
        box-shadow: 0 0 6px rgba(74, 222, 128, 0.8);
      }

      @keyframes pulse-dot {
        0%,
        100% {
          opacity: 1;
          transform: scale(1);
        }
        50% {
          opacity: 0.5;
          transform: scale(0.8);
        }
      }

      .flame-icon {
        font-size: 1.5rem;
        filter: drop-shadow(0 0 8px rgba(251, 146, 60, 0.6));
        animation: flicker 3s ease-in-out infinite;
      }

      @keyframes flicker {
        0%,
        100% {
          opacity: 1;
        }
        92% {
          opacity: 1;
        }
        93% {
          opacity: 0.8;
        }
        94% {
          opacity: 1;
        }
        96% {
          opacity: 0.9;
        }
        97% {
          opacity: 1;
        }
      }
    </style>
  </head>
  <body class="flex justify-center min-h-screen">
    <div
      class="w-full max-w-[420px] bg-[#F2F4F6] flex flex-col min-h-screen overflow-hidden relative"
    >
      <!-- CRT ë ˆíŠ¸ë¡œ í—¤ë” -->
      <div class="crt-header">
        <div class="flex items-start justify-between">
          <div class="flex-1">
            <h1 class="crt-title">> ë‚œë°©ë¹„_ìš”ê¸ˆ_ì§€í‚´ì´</h1>
            <p class="crt-subtitle">
              <span id="typing-text"></span><span class="typing-cursor"></span>
            </p>
            <div class="crt-badge">
              <span class="crt-dot"></span>
              <span>SYSTEM ONLINE</span>
            </div>
          </div>
          <div class="flame-icon">ğŸ”¥</div>
        </div>
      </div>

      <!-- íƒ­ ë©”ë‰´ -->
      <div
        class="flex border-b border-[#E5E8EB] px-2 sticky top-0 bg-[#F2F4F6] z-10 overflow-x-auto no-scrollbar"
      >
        <button
          onclick="showTab('heating')"
          class="flex-1 py-4 text-center btn-tab active min-w-[60px]"
          id="tab-btn-heating"
        >
          ë‚œë°©
          <div class="btn-tab-indicator mt-1"></div>
        </button>
        <button
          onclick="showTab('water')"
          class="flex-1 py-4 text-center btn-tab min-w-[60px]"
          id="tab-btn-water"
        >
          ì˜¨ìˆ˜
          <div class="btn-tab-indicator mt-1"></div>
        </button>
        <button
          onclick="showTab('reserve')"
          class="flex-1 py-4 text-center btn-tab min-w-[60px]"
          id="tab-btn-reserve"
        >
          ì˜ˆì•½
          <div class="btn-tab-indicator mt-1"></div>
        </button>
        <button
          onclick="showTab('check')"
          class="flex-1 py-4 text-center btn-tab min-w-[70px]"
          id="tab-btn-check"
        >
          ê¿€íŒÂ·ê´€ë¦¬
          <div class="btn-tab-indicator mt-1"></div>
        </button>
      </div>

      <!-- ë©”ì¸ ì»¨í…ì¸  ì˜ì—­ -->
      <div class="flex-1 overflow-y-auto p-5 space-y-4 pb-8 scroll-smooth">
        <!-- 1. ë‚œë°© ì„¤ì • íƒ­ -->
        <div id="tab-heating" class="fade-in space-y-4">
          <div class="card">
            <h2 class="text-lg font-bold mb-4 text-[#191F28]">
              ë‚œë°© ê¸°ì¤€ ì„ íƒ
            </h2>
            <div class="grid grid-cols-2 gap-3">
              <div
                onclick="setHeatingMode('indoor')"
                id="chip-indoor"
                class="mode-chip selected"
              >
                <span class="text-3xl mb-2">ğŸ </span
                ><span class="text-sm">ì‹¤ë‚´ (ê³µê¸°)</span>
              </div>
              <div
                onclick="setHeatingMode('ondol')"
                id="chip-ondol"
                class="mode-chip"
              >
                <span class="text-3xl mb-2">â™¨ï¸</span
                ><span class="text-sm">ì˜¨ëŒ (ë°”ë‹¥)</span>
              </div>
            </div>
            <div class="mt-4 p-3 bg-[#F9FAFB] rounded-xl">
              <p class="text-xs text-[#6B7684] leading-relaxed" id="mode-desc">
                ë‹¨ì—´ì´ ì˜ ë˜ëŠ” ì•„íŒŒíŠ¸ëŠ” <strong>ì‹¤ë‚´ ëª¨ë“œ</strong>ê°€ ìœ ë¦¬í•©ë‹ˆë‹¤.
              </p>
            </div>
          </div>

          <div class="card">
            <div class="flex justify-between items-end mb-6">
              <div>
                <span class="text-xs font-bold text-[#8B95A1] block mb-1"
                  >ì„¤ì • ì˜¨ë„</span
                >
                <span
                  class="text-4xl font-bold text-[#191F28]"
                  id="temp-display"
                  >24</span
                ><span class="text-xl text-[#8B95A1] font-medium ml-1">â„ƒ</span>
              </div>
              <div
                id="temp-badge"
                class="px-3 py-1 bg-blue-50 text-blue-600 rounded-lg text-xs font-bold transition-colors"
              >
                ì¾Œì 
              </div>
            </div>

            <div class="relative pt-2 pb-2">
              <input
                type="range"
                id="heating-slider"
                class="w-full relative z-20"
                oninput="updateHeatingUI()"
                onchange="updateHeatingUI()"
              />
              <div class="guide-bar-container">
                <div
                  id="saving-zone-indoor"
                  class="guide-good"
                  style="left: 40%; width: 10%"
                ></div>
                <div
                  id="saving-zone-ondol"
                  class="guide-good hidden"
                  style="left: 22%; width: 22%"
                ></div>
              </div>
            </div>

            <div
              class="flex justify-between text-xs text-[#8B95A1] font-medium mt-1 font-mono"
            >
              <span id="slider-min">10</span><span id="slider-max">40</span>
            </div>
            <div
              id="temp-msg-box"
              class="mt-4 p-3 rounded-xl bg-gray-50 text-sm font-medium text-gray-600 transition-colors"
            >
              ì¼ë°˜ì ìœ¼ë¡œ 22~24ë„ê°€ ì ë‹¹í•©ë‹ˆë‹¤.
            </div>
          </div>
        </div>

        <!-- 2. ì˜¨ìˆ˜ ì„¤ì • íƒ­ -->
        <div id="tab-water" class="hidden fade-in space-y-4">
          <div class="card">
            <div class="flex items-center justify-between mb-2">
              <h2 class="text-lg font-bold text-[#191F28]">ğŸš¿ ì˜¨ìˆ˜ ì˜¨ë„</h2>
              <span class="text-2xl font-bold text-[#333D4B]" id="hw-display"
                >45<span class="text-base text-[#8B95A1] font-normal"
                  >â„ƒ</span
                ></span
              >
            </div>
            <p class="text-xs text-[#8B95A1] mb-6">
              ìƒ¤ì›Œë‚˜ ì„¤ê±°ì§€í•  ë•Œ ë‚˜ì˜¤ëŠ” ë¬¼ ì˜¨ë„
            </p>

            <div class="relative pt-2 pb-2">
              <input
                type="range"
                min="30"
                max="60"
                value="45"
                id="hw-slider"
                class="w-full relative z-20 saving-mode"
                oninput="updateHotWater(this.value)"
                onchange="updateHotWater(this.value)"
              />
              <div class="guide-bar-container">
                <div class="guide-good" style="left: 33%; width: 17%"></div>
              </div>
            </div>

            <div class="flex justify-between text-xs text-[#8B95A1] mt-1">
              <span>30â„ƒ</span
              ><span class="font-bold text-green-600">ì¶”ì²œ 40~45â„ƒ</span
              ><span>60â„ƒ</span>
            </div>
            <div
              class="bg-green-50 p-3 rounded-xl text-sm text-green-700 font-medium transition-colors mt-4"
              id="hw-msg"
            >
              ê°€ìŠ¤ë¹„ ì ˆì•½ì— ê°€ì¥ ì´ìƒì ì¸ êµ¬ê°„ì…ë‹ˆë‹¤.
            </div>
          </div>
        </div>

        <!-- 3. ì˜ˆì•½ ì„¤ì • íƒ­ -->
        <div id="tab-reserve" class="hidden fade-in space-y-4">
          <div class="card">
            <div class="flex items-center justify-between mb-2">
              <h2 class="text-lg font-bold text-[#191F28]">â° ì™¸ì¶œ ì‹œ ë°˜ë³µ</h2>
              <span class="text-2xl font-bold text-[#333D4B]" id="res-display"
                >3<span class="text-base text-[#8B95A1] font-normal"
                  >ì‹œê°„</span
                ></span
              >
            </div>
            <p class="text-xs text-[#8B95A1] mb-6">
              ì„¤ì •í•œ ì‹œê°„ ê°„ê²©ë§ˆë‹¤ ë‚œë°©ì„ ê°€ë™í•©ë‹ˆë‹¤
            </p>

            <div class="relative pt-2 pb-2">
              <input
                type="range"
                min="1"
                max="9"
                value="3"
                id="res-slider"
                class="w-full relative z-20 saving-mode"
                oninput="updateReserve(this.value)"
                onchange="updateReserve(this.value)"
              />
              <div class="guide-bar-container">
                <div class="guide-good" style="left: 22%; width: 22%"></div>
              </div>
            </div>

            <div class="flex justify-between text-xs text-[#8B95A1] mt-1">
              <span>1h</span
              ><span class="font-bold text-green-600">ì¶”ì²œ 3~4h</span
              ><span>9h</span>
            </div>
            <div
              class="bg-[#F9FAFB] p-3 rounded-xl text-sm text-[#4E5968] mt-4"
              id="res-msg"
            >
              ì‹ì€ ë°”ë‹¥ì„ ë°ìš°ëŠ” ë¹„ìš©ì„ ì•„ë¼ë ¤ë©´<br />ë„ì§€ ë§ê³  ì˜ˆì•½ì„
              ì‚¬ìš©í•˜ì„¸ìš”.
            </div>
          </div>
        </div>

        <!-- 4. ê¿€íŒÂ·ê´€ë¦¬ íƒ­ -->
        <div id="tab-check" class="hidden fade-in space-y-4">
          <div class="card bg-white border border-[#E5E8EB]">
            <div class="flex justify-between items-start mb-4">
              <div>
                <h2 class="text-lg font-bold text-[#191F28] mb-1">
                  ë°°ê´€ ê³µê¸° ë¹¼ê¸°
                </h2>
                <p class="text-sm text-[#6B7684]">ë‚œë°© íš¨ìœ¨ 2ë°° ë†’ì´ëŠ” ë°©ë²•</p>
              </div>
              <span class="text-2xl">ğŸ› </span>
            </div>
            <button
              onclick="openModal()"
              class="w-full py-3.5 bg-[#F2F4F6] text-[#333D4B] font-bold rounded-xl text-sm hover:bg-[#E5E8EB] transition flex items-center justify-center active:bg-gray-200"
            >
              ì˜ìƒ ë³´ê³  ë”°ë¼í•˜ê¸°
              <svg
                class="w-4 h-4 ml-1"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 5l7 7-7 7"
                ></path>
              </svg>
            </button>
          </div>

          <div class="card border border-red-100 bg-red-50/30">
            <div class="flex items-start">
              <span class="text-2xl mr-3">â„ï¸</span>
              <div>
                <h2 class="text-lg font-bold text-[#E53E3E]">ë™íŒŒ ì£¼ì˜</h2>
                <p class="text-sm text-[#4E5968] mt-2 leading-relaxed">
                  ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë°©ì´ë¼ë„ ë°¸ë¸Œë¥¼<br /><strong
                    >ì ˆëŒ€ë¡œ ì™„ì „íˆ ì ê·¸ì§€ ë§ˆì„¸ìš”.</strong
                  >
                </p>
                <div
                  class="mt-3 flex items-center gap-2 text-xs font-bold bg-white px-3 py-2 rounded-lg inline-flex shadow-sm"
                >
                  <span class="text-[#8B95A1] line-through decoration-2"
                    >ì™„ì „ ì ê¸ˆ(X)</span
                  ><span class="text-[#8B95A1]">â†’</span
                  ><span class="text-[#3182ce]">ë¯¸ì„¸ ê°œë°©(O)</span>
                </div>
              </div>
            </div>
          </div>

          <div class="px-4 py-2">
            <h3
              class="text-xs font-bold text-[#8B95A1] mb-3 uppercase tracking-wider"
            >
              ê°€ìŠ¤ë¹„ ì ˆì•½ ê³µì‹
            </h3>
            <ul class="text-sm text-[#4E5968] space-y-3">
              <li
                class="flex justify-between border-b border-[#E5E8EB] pb-2 items-center"
              >
                <span class="flex items-center"
                  >ğŸ  ì‹¤ë‚´ ëª¨ë“œ
                  <span
                    class="ml-2 w-2 h-2 bg-green-400 rounded-full"
                  ></span></span
                ><span class="font-bold text-green-700">22 ~ 24â„ƒ</span>
              </li>
              <li
                class="flex justify-between border-b border-[#E5E8EB] pb-2 items-center"
              >
                <span class="flex items-center"
                  >â™¨ï¸ ì˜¨ëŒ ëª¨ë“œ
                  <span
                    class="ml-2 w-2 h-2 bg-green-400 rounded-full"
                  ></span></span
                ><span class="font-bold text-green-700">50 ~ 60â„ƒ</span>
              </li>
              <li
                class="flex justify-between border-b border-[#E5E8EB] pb-2 items-center"
              >
                <span class="flex items-center"
                  >ğŸš¿ ì˜¨ìˆ˜ ì˜¨ë„
                  <span
                    class="ml-2 w-2 h-2 bg-green-400 rounded-full"
                  ></span></span
                ><span class="font-bold text-green-700">40 ~ 45â„ƒ</span>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <!-- ê³ ì • í‘¸í„° -->
      <footer class="border-t border-[#E5E8EB] py-3 px-4 text-center">
        <p class="text-[10px] text-[#8B95A1]">
          Â© 2025 ì—„ìœ ì£¼. All rights reserved.
        </p>
        <a
          href="mailto:manager@badatgil.com"
          class="text-[10px] text-[#3182ce] hover:underline"
          >manager@badatgil.com</a
        >
      </footer>

      <!-- ê³µê¸° ë¹¼ê¸° ê°€ì´ë“œ ëª¨ë‹¬ -->
      <div
        id="air-modal"
        class="modal hidden fixed inset-0 flex items-end justify-center"
      >
        <div
          class="absolute inset-0 bg-black/60 backdrop-blur-sm"
          onclick="closeModal()"
        ></div>

        <div
          class="modal-content bg-white w-full max-w-[420px] rounded-t-[32px] p-6 pb-10 relative z-10 h-[90vh] overflow-y-auto"
        >
          <div class="w-10 h-1 bg-[#E5E8EB] rounded-full mx-auto mb-6"></div>

          <div class="flex justify-between items-center mb-4">
            <h2 class="text-2xl font-bold text-[#191F28]">ì˜ìƒìœ¼ë¡œ ë”°ë¼í•˜ê¸°</h2>
            <button onclick="closeModal()" class="p-2 -mr-2 text-gray-400">
              <svg
                class="w-6 h-6"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M6 18L18 6M6 6l12 12"
                ></path>
              </svg>
            </button>
          </div>

          <!-- ìœ íŠœë¸Œ ì¸ì•± ì¬ìƒ (ì¸ë„¤ì¼ í´ë¦­ -> iframe ë¡œë“œ) -->
          <!-- [ê°œë°œì ë…¸íŠ¸] CSP ì œí•œìœ¼ë¡œ ì¸í•´ iframe ì¬ìƒì´ ì•ˆ ë  ê²½ìš°ë¥¼ ëŒ€ë¹„í•´ ì¸ë„¤ì¼+ì¬ìƒë²„íŠ¼ UIë¡œ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤. -->
          <div
            class="mb-8 bg-black rounded-xl overflow-hidden shadow-lg relative"
            style="padding-bottom: 56.25%"
          >
            <div
              id="video-placeholder"
              class="absolute inset-0 w-full h-full cursor-pointer group"
              onclick="playVideo()"
            >
              <img
                src="https://img.youtube.com/vi/JxUC_a1HOVA/maxresdefault.jpg"
                alt="ë³´ì¼ëŸ¬ ì—ì–´ë¹¼ê¸° ì¸ë„¤ì¼"
                class="absolute inset-0 w-full h-full object-cover opacity-90 group-hover:opacity-100 transition-opacity"
              />
              <div
                class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"
              >
                <div
                  class="w-16 h-16 bg-red-600 rounded-full flex items-center justify-center shadow-xl play-btn group-hover:scale-110 transition-transform"
                >
                  <svg
                    class="w-8 h-8 text-white ml-1"
                    fill="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path d="M8 5v14l11-7z" />
                  </svg>
                </div>
              </div>
              <div
                class="absolute bottom-3 right-3 bg-black/80 text-white text-xs px-2 py-1 rounded font-bold"
              >
                í„°ì¹˜í•˜ì—¬ ì¬ìƒ
              </div>
            </div>
          </div>

          <!-- í•µì‹¬ ìš”ì•½ ë¦¬ìŠ¤íŠ¸ -->
          <h3 class="font-bold text-lg text-[#333D4B] mb-2">í•µì‹¬ ìš”ì•½</h3>
          <p class="text-sm text-[#8B95A1] mb-6">
            30ë…„ ê²½ë ¥ì˜ ì „ë¬¸ê°€ê°€ ì•Œë ¤ì£¼ëŠ” ì•ˆì „í•œ ë°©ë²•ì…ë‹ˆë‹¤.
          </p>

          <div class="space-y-6 relative pb-10">
            <div
              class="absolute left-[15px] top-4 bottom-4 w-[2px] bg-[#F2F4F6] -z-10"
            ></div>
            <div class="flex gap-4">
              <div
                class="flex-none w-8 h-8 rounded-full bg-[#3182ce] text-white flex items-center justify-center font-bold text-sm"
              >
                1
              </div>
              <div>
                <h3 class="font-bold text-lg text-[#333D4B] mb-1">
                  ì•ˆì „ ì¥ë¹„ ì¤€ë¹„
                </h3>
                <p class="text-sm text-[#6B7684]">
                  ê³ ë¬´ì¥ê°‘ê³¼ ë¬¼ ë°›ì„ í†µì„ ì¤€ë¹„í•˜ì„¸ìš”.
                </p>
              </div>
            </div>
            <div class="flex gap-4">
              <div
                class="flex-none w-8 h-8 rounded-full bg-[#3182ce] text-white flex items-center justify-center font-bold text-sm"
              >
                2
              </div>
              <div>
                <h3 class="font-bold text-lg text-[#333D4B] mb-1">
                  ì—ì–´ í•€ ê°œë°©
                </h3>
                <p class="text-sm text-[#6B7684]">
                  ë¶„ë°°ê¸°ì˜ ì‘ì€ ë°¸ë¸Œë¥¼ ì‹œê³„ ë°˜ëŒ€ ë°©í–¥ìœ¼ë¡œ ì²œì²œíˆ ëŒë¦¬ì„¸ìš”.
                </p>
              </div>
            </div>
            <div class="flex gap-4">
              <div
                class="flex-none w-8 h-8 rounded-full bg-[#3182ce] text-white flex items-center justify-center font-bold text-sm"
              >
                3
              </div>
              <div>
                <h3 class="font-bold text-lg text-[#333D4B] mb-1">
                  ê³µê¸° ë°°ì¶œ í™•ì¸
                </h3>
                <p class="text-sm text-[#6B7684]">
                  ì¹˜ìµ ì†Œë¦¬ê°€ ë©ˆì¶”ê³  ë¬¼ì´ ì¼ì •í•˜ê²Œ ë‚˜ì˜¤ë©´ ì ê·¸ì„¸ìš”.
                </p>
              </div>
            </div>
          </div>

          <div
            class="sticky bottom-0 bg-white pt-4 pb-2 border-t border-gray-100"
          >
            <button
              onclick="closeModal()"
              class="w-full py-4 bg-[#3182ce] text-white font-bold rounded-2xl text-lg hover:bg-blue-600 transition shadow-lg shadow-blue-200 active:scale-95"
            >
              í™•ì¸ ì™„ë£Œ
            </button>
          </div>
        </div>
      </div>
    </div>

    <script>
      let mode = "indoor";

      function showTab(tabName) {
        ["heating", "water", "reserve", "check"].forEach((t) => {
          const btn = document.getElementById(`tab-btn-${t}`);
          const content = document.getElementById(`tab-${t}`);
          if (t === tabName) {
            btn.classList.add("active");
            content.classList.remove("hidden");
          } else {
            btn.classList.remove("active");
            content.classList.add("hidden");
          }
        });
      }

      function setHeatingMode(selectedMode) {
        mode = selectedMode;
        const indoorChip = document.getElementById("chip-indoor");
        const ondolChip = document.getElementById("chip-ondol");
        const slider = document.getElementById("heating-slider");
        const min = document.getElementById("slider-min");
        const max = document.getElementById("slider-max");
        const desc = document.getElementById("mode-desc");
        const zoneIndoor = document.getElementById("saving-zone-indoor");
        const zoneOndol = document.getElementById("saving-zone-ondol");

        if (mode === "indoor") {
          indoorChip.classList.add("selected");
          ondolChip.classList.remove("selected");
          slider.min = 10;
          slider.max = 40;
          slider.value = 24;
          min.innerText = "10";
          max.innerText = "40";
          desc.innerHTML =
            "ë‹¨ì—´ì´ ì˜ ë˜ëŠ” ì•„íŒŒíŠ¸ëŠ” <strong>ì‹¤ë‚´ ëª¨ë“œ</strong>ê°€ ìœ ë¦¬í•©ë‹ˆë‹¤.";
          zoneIndoor.classList.remove("hidden");
          zoneOndol.classList.add("hidden");
        } else {
          ondolChip.classList.add("selected");
          indoorChip.classList.remove("selected");
          slider.min = 40;
          slider.max = 85;
          slider.value = 55;
          min.innerText = "40";
          max.innerText = "85";
          desc.innerHTML =
            "ì™¸í’ì´ ì‹¬í•˜ê±°ë‚˜ ë‹¨ë…ì£¼íƒì€ <strong>ì˜¨ëŒ ëª¨ë“œ</strong>ê°€ ìœ ë¦¬í•©ë‹ˆë‹¤.";
          zoneIndoor.classList.add("hidden");
          zoneOndol.classList.remove("hidden");
        }
        updateHeatingUI();
      }

      function updateHeatingUI() {
        const val = parseInt(document.getElementById("heating-slider").value);
        document.getElementById("temp-display").innerText = val;
        const badge = document.getElementById("temp-badge");
        const msgBox = document.getElementById("temp-msg-box");
        const slider = document.getElementById("heating-slider");

        let isSaving = false,
          isWarning = false;

        if (mode === "indoor") {
          if (val >= 22 && val <= 24) {
            badge.innerText = "ì ˆì•½ êµ¬ê°„";
            badge.className =
              "px-3 py-1 bg-green-100 text-green-700 rounded-lg text-xs font-bold transition-colors";
            msgBox.innerHTML =
              "ğŸŒ± <strong>í›Œë¥­í•´ìš”!</strong> ì¾Œì í•¨ê³¼ ì ˆì•½ì˜ ê· í˜•ì´ ë”± ë§ì•„ìš”.";
            msgBox.className =
              "mt-4 p-3 rounded-xl bg-green-50 text-sm text-green-700 font-medium transition-colors";
            isSaving = true;
          } else if (val < 22) {
            badge.innerText = "ì´ˆì ˆì•½";
            badge.className =
              "px-3 py-1 bg-gray-100 text-gray-600 rounded-lg text-xs font-bold transition-colors";
            msgBox.innerHTML =
              "ğŸ’° <strong>ê°€ìŠ¤ë¹„ëŠ” ì•„ë¼ì§€ë§Œ</strong> ì¡°ê¸ˆ ì„œëŠ˜í•  ìˆ˜ ìˆì–´ìš”.";
            msgBox.className =
              "mt-4 p-3 rounded-xl bg-gray-50 text-sm text-gray-600 font-medium transition-colors";
          } else {
            badge.innerText = "ê³¼ë‹¤";
            badge.className =
              "px-3 py-1 bg-red-100 text-red-600 rounded-lg text-xs font-bold transition-colors";
            msgBox.innerHTML =
              "ğŸ’¸ <strong>ì£¼ì˜!</strong> 25ë„ ì´ìƒì€ ê°€ìŠ¤ë¹„ê°€ ê¸‰ì¦í•©ë‹ˆë‹¤.";
            msgBox.className =
              "mt-4 p-3 rounded-xl bg-red-50 text-sm text-red-600 font-medium transition-colors";
            isWarning = true;
          }
        } else {
          if (val >= 50 && val <= 60) {
            badge.innerText = "íš¨ìœ¨ êµ¬ê°„";
            badge.className =
              "px-3 py-1 bg-green-100 text-green-700 rounded-lg text-xs font-bold transition-colors";
            msgBox.innerHTML =
              "ğŸŒ± <strong>ë‚˜ì´ìŠ¤!</strong> ì „ë¬¸ê°€ê°€ ì¶”ì²œí•˜ëŠ” íš¨ìœ¨ êµ¬ê°„ì…ë‹ˆë‹¤.";
            msgBox.className =
              "mt-4 p-3 rounded-xl bg-green-50 text-sm text-green-700 font-medium transition-colors";
            isSaving = true;
          } else if (val < 50) {
            badge.innerText = "ë¯¸ì§€ê·¼";
            badge.className =
              "px-3 py-1 bg-gray-100 text-gray-600 rounded-lg text-xs font-bold transition-colors";
            msgBox.innerHTML = "ğŸŒ¡ï¸ <strong>ë´„/ê°€ì„ìš©</strong> ì˜¨ë„ì…ë‹ˆë‹¤.";
            msgBox.className =
              "mt-4 p-3 rounded-xl bg-gray-50 text-sm text-gray-600 font-medium transition-colors";
          } else {
            badge.innerText = "ê³ ì˜¨";
            badge.className =
              "px-3 py-1 bg-red-100 text-red-600 rounded-lg text-xs font-bold transition-colors";
            msgBox.innerHTML =
              "ğŸ”¥ <strong>ì£¼ì˜!</strong> ë„ˆë¬´ ëœ¨ê±°ì›Œ í™”ìƒ ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤.";
            msgBox.className =
              "mt-4 p-3 rounded-xl bg-red-50 text-sm text-red-600 font-medium transition-colors";
            isWarning = true;
          }
        }

        if (isSaving) {
          slider.classList.add("saving-mode");
          slider.classList.remove("warning-mode");
        } else if (isWarning) {
          slider.classList.add("warning-mode");
          slider.classList.remove("saving-mode");
        } else {
          slider.classList.remove("saving-mode", "warning-mode");
        }
      }

      function updateHotWater(val) {
        val = parseInt(val);
        document.getElementById("hw-display").innerHTML =
          `${val}<span class="text-base text-[#8B95A1] font-normal">â„ƒ</span>`;
        const msg = document.getElementById("hw-msg");
        const slider = document.getElementById("hw-slider");

        if (val >= 40 && val <= 45) {
          msg.className =
            "mt-4 bg-green-50 p-3 rounded-xl text-sm text-green-700 font-medium transition-colors";
          msg.innerHTML =
            "ğŸŒ± <strong>ì ˆì•½ êµ¬ê°„!</strong> ì°¬ë¬¼ì„ ì„ì§€ ì•Šì•„ íš¨ìœ¨ì ì…ë‹ˆë‹¤.";
          slider.classList.add("saving-mode");
          slider.classList.remove("warning-mode");
        } else if (val < 40) {
          msg.className =
            "mt-4 bg-blue-50 p-3 rounded-xl text-sm text-blue-700 font-medium transition-colors";
          msg.innerText = "ìƒ¤ì›Œí•˜ê¸°ì—” ì•½ê°„ ë¯¸ì§€ê·¼í•´ìš”.";
          slider.classList.remove("saving-mode", "warning-mode");
        } else {
          msg.className =
            "mt-4 bg-red-50 p-3 rounded-xl text-sm text-red-700 font-medium transition-colors";
          msg.innerHTML =
            "ğŸ’¸ <strong>ë‚­ë¹„ ì£¼ì˜!</strong> ì°¬ë¬¼ì„ ì„ê²Œ ë˜ì–´ ê°€ìŠ¤ê°€ ë‚­ë¹„ë©ë‹ˆë‹¤.";
          slider.classList.add("warning-mode");
          slider.classList.remove("saving-mode");
        }
      }

      function updateReserve(val) {
        val = parseInt(val);
        document.getElementById("res-display").innerHTML =
          `${val}<span class="text-base text-[#8B95A1] font-normal">ì‹œê°„</span>`;
        const msg = document.getElementById("res-msg");
        const slider = document.getElementById("res-slider");

        if (val >= 3 && val <= 4) {
          msg.className =
            "mt-4 bg-green-50 p-3 rounded-xl text-sm text-green-700 font-medium transition-colors";
          msg.innerHTML =
            "ğŸŒ± <strong>ì¶”ì²œ!</strong> ë°”ë‹¥ì´ ì‹ê¸° ì „ì— ë‹¤ì‹œ ë°ì›Œì¤ë‹ˆë‹¤.";
          slider.classList.add("saving-mode");
        } else {
          msg.className =
            "mt-4 bg-[#F9FAFB] p-3 rounded-xl text-sm text-[#4E5968] transition-colors";
          msg.innerText = "3~4ì‹œê°„ ê°„ê²©ì´ ê°€ì¥ íš¨ìœ¨ì ì…ë‹ˆë‹¤.";
          slider.classList.remove("saving-mode");
        }
      }

      function openModal() {
        document.getElementById("air-modal").classList.remove("hidden");
      }
      function closeModal() {
        document.getElementById("air-modal").classList.add("hidden");
        // ì¬ìƒ ì¤‘ì§€ (UI ì´ˆê¸°í™”)
        document.getElementById("video-placeholder").innerHTML = `
                <img src="https://img.youtube.com/vi/JxUC_a1HOVA/maxresdefault.jpg" alt="ë³´ì¼ëŸ¬ ì—ì–´ë¹¼ê¸° ì¸ë„¤ì¼" class="absolute inset-0 w-full h-full object-cover opacity-90 group-hover:opacity-100 transition-opacity">
                <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
                    <div class="w-16 h-16 bg-red-600 rounded-full flex items-center justify-center shadow-xl play-btn group-hover:scale-110 transition-transform">
                        <svg class="w-8 h-8 text-white ml-1" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                    </div>
                </div>
                <div class="absolute bottom-3 right-3 bg-black/80 text-white text-xs px-2 py-1 rounded font-bold">í„°ì¹˜í•˜ì—¬ ì¬ìƒ</div>
            `;
      }

      // ìœ íŠœë¸Œ Iframe êµì²´ í•¨ìˆ˜
      function playVideo() {
        const placeholder = document.getElementById("video-placeholder");
        placeholder.innerHTML =
          '<iframe src="https://www.youtube.com/embed/JxUC_a1HOVA?autoplay=1&start=60" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen class="absolute inset-0 w-full h-full"></iframe>';
      }

      // ì´ˆê¸°í™”
      setHeatingMode("indoor");

      // íƒ€ì´í•‘ íš¨ê³¼
      const typingMessages = [
        "ì˜¬ë°”ë¥¸ ì„¤ì • í•˜ë‚˜ë¡œ ì˜¬ê²¨ìš¸ ë‚œë°©ë¹„ ì ˆì•½!",
        "ì „ë¬¸ê°€ ì¶”ì²œ ì˜¨ë„ë¡œ ê°€ìŠ¤ë¹„ 30% ì ˆê°",
        "ì‹¤ë‚´ 22~24â„ƒê°€ í™©ê¸ˆ ì˜¨ë„ì…ë‹ˆë‹¤",
        "ì™¸ì¶œ ì‹œ ë„ì§€ ë§ê³  3ì‹œê°„ë§ˆë‹¤ ìë™ì˜ˆì•½!",
      ];
      let msgIndex = 0;
      let charIndex = 0;
      let isDeleting = false;
      const typingElement = document.getElementById("typing-text");

      function typeEffect() {
        const currentMsg = typingMessages[msgIndex];

        if (isDeleting) {
          typingElement.textContent = currentMsg.substring(0, charIndex - 1);
          charIndex--;
        } else {
          typingElement.textContent = currentMsg.substring(0, charIndex + 1);
          charIndex++;
        }

        let typeSpeed = isDeleting ? 30 : 80;

        if (!isDeleting && charIndex === currentMsg.length) {
          typeSpeed = 2500; // ì™„ì„± í›„ ëŒ€ê¸°
          isDeleting = true;
        } else if (isDeleting && charIndex === 0) {
          isDeleting = false;
          msgIndex = (msgIndex + 1) % typingMessages.length;
          typeSpeed = 500; // ë‹¤ìŒ ë¬¸ì¥ ì „ ëŒ€ê¸°
        }

        setTimeout(typeEffect, typeSpeed);
      }

      // í˜ì´ì§€ ë¡œë“œ í›„ íƒ€ì´í•‘ ì‹œì‘
      setTimeout(typeEffect, 800);

      // Service Worker ë“±ë¡ (PWA)
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          navigator.serviceWorker
            .register("/sw.js")
            .then((reg) => console.log("SW ë“±ë¡ ì™„ë£Œ:", reg.scope))
            .catch((err) => console.log("SW ë“±ë¡ ì‹¤íŒ¨:", err));
        });
      }
    </script>
  </body>
</html>
